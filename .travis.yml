language: python

cache: pip

matrix:
  include:
    - os: linux
      python: 2.7
      env: TOXENV=py27

    - os: linux
      python: 3.5
      env: TOXENV=py35

    - os: linux
      python: 3.6
      env: TOXENV=py36

    - os: linux
      python: 3.7
      env: TOXENV=py37

    - os: linux
      python: 3.8
      env: TOXENV=py38

    - os: linux
      python: 3.7
      env: TOXENV=cov
      after_success:
        - travis_retry pip install coveralls
        - coveralls

    - os: osx
      language: generic
      env: TOXENV=py37

install:
  - travis_retry bash -x .travis/install.sh

script:
  - tox

notifications:
  slack:
    secure: ZsrFmq5eDGGYdSK9vVWo97Vlx+Kxmd6hXuN/TG5928KY3VORkE0Aq2ywGfZ4iHyYXLpkIU2csXKhwPoiukvZ7qfiVGMynNtPwowB+TohA5vT1sBfgsIQh3xre+IZl156mtBWOGaj7XWxV8qD0x6zYHBfUdM5hsB6iNA+BREu16ln//i+boPydlWRIRSBsqBScalAneb62TGG3HjDt2H8e8j1bfDnchQ3/npdouevraTTrQDvWUByIigbCUjc88L1S/CmcW83fylxAkglgz0h1vJ6ms+Fcvjyl/A1MmTRhzSEuG/LcFxDk+yhKlRu2bX8p7sKsvyVL13vKXjlt/I2xe1QO3hxwOUkyZxN5l/SNALAi5ri3nqkhxgGsuD/Or1v0ulwA93FnTYkWSpehsvok5nltRbIa639nX2ZOPD2e2/BZVDy048h5PKkvPa/GGo3zq6207WhPKFXQzK2APOKVnGmbEQsKAw8unnnANKecW7HYznb8VFoedbjx/ZbQntA5uXjWLm4qJfPUVu84PiUuARvUKdXo+z4RREswCDK1a9CeomlPAhcbQscQHOKFpF/GO1EobjE3yOeKI0LDxXdj6nalYCQn4Jhc1UZirlCVbOO1D2L1mEPgaSWsbF0XD/qqKzY/sdCzhhKprzNjAvzRjedrBS0xDhDGFeXg4zObPM=
